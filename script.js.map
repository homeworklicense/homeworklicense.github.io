{"version":3,"file":"script.js","sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/main.ts","webpack:///./src/styles/style.scss?ba2d"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/scripts/main.ts\");\n","\"use strict\";\n/** @license\n * Copyright (c) 2020 Jakub Koralewski MIT\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"../styles/style.scss\");\nvar queryString = window.location.search;\nvar urlParams = new URLSearchParams(queryString);\nvar p = urlParams.get(\"p\");\nvar STATE = {\n    year: { i: 1, data: \"2020\" },\n    licenser: { i: 0, data: \"Jakub Koralewski\" },\n    option: { i: 2, data: 0 },\n    i: 0,\n    on: true,\n};\nvar shareButton = document.querySelector(\"#share\");\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nvar encodeURL = function () {\n    return encodeURI(window.location.origin + \"/\" + STATE.licenser.data + \"/\" + STATE.year.data + \"/\" + STATE.option.data);\n};\n/* elem.data -> URL */\nfunction setURL() {\n    console.log(\"set url in\", this);\n    var paths = window.location.pathname.split(\"/\");\n    if (this.element) {\n        this.data = this.element.value;\n    }\n    paths[STATE.i + this.i] = this.data;\n    window.history.replaceState(null, \"\", window.location.origin + paths.join(\"/\"));\n    if (shareButton.isShareText) {\n        shareButton.textContent = encodeURL();\n    }\n}\n/* URL -> elem.data */\nfunction getURL() {\n    console.log(\"get url in\", this);\n    this.element.value = this.data;\n}\nSTATE.year.setURL = setURL.bind(STATE.year);\nSTATE.licenser.setURL = setURL.bind(STATE.licenser);\nSTATE.option.setURL = setURL.bind(STATE.option);\nSTATE.year.getURL = getURL.bind(STATE.year);\nSTATE.licenser.getURL = getURL.bind(STATE.licenser);\nif (p != null) {\n    window.location.href = window.location.origin + p;\n    STATE.on = false;\n}\nelse {\n    var path = window.location.pathname;\n    console.log(\"path: \", path);\n    var paths = path.split(\"/\");\n    if (paths[0].trim() === \"\")\n        STATE.i = 1;\n    if (paths.length - STATE.i !== 3) {\n        console.warn(\"incorrect number of arguments in \", paths);\n        STATE.on = false;\n    }\n    else {\n        STATE.licenser.data = decodeURI(paths[STATE.i + STATE.licenser.i].trim());\n        STATE.year.data = paths[STATE.i + STATE.year.i];\n        STATE.option.data = parseInt(paths[STATE.i + STATE.option.i]);\n        console.log(\"STATE\", STATE);\n    }\n}\nvar subtitle = document.querySelector(\"#subtitle\");\nSTATE.year.element = subtitle.querySelector(\"#year\");\nSTATE.licenser.element = subtitle.querySelector(\"#licenser\");\nif (STATE.on) {\n    // Has properties in URL\n    for (var _i = 0, _a = [STATE.year, STATE.licenser]; _i < _a.length; _i++) {\n        var elem = _a[_i];\n        elem.getURL();\n        elem.element.addEventListener(\"input\", elem.setURL);\n    }\n}\nelse {\n    // Empty properties in URL.\n    // Requires being bound to itself for some reason for `this` to work.\n    var offFunc = function offFunc(elem) {\n        var _this = this;\n        // Create function that will set URL of each elem\n        // despite even only one being written to.\n        // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n        return function () {\n            [STATE.year, STATE.licenser, STATE.option].forEach(function (x) { return x.setURL(); });\n            if (!STATE.on) {\n                // Remove this function, and add.\n                console.log(\"elem\", elem);\n                console.log(\"this\", _this);\n                elem.element.removeEventListener(\"input\", _this);\n                elem.element.addEventListener(\"input\", elem.setURL);\n            }\n        };\n    };\n    for (var _b = 0, _c = [STATE.year, STATE.licenser]; _b < _c.length; _b++) {\n        var elem = _c[_b];\n        elem.data = elem.element.value;\n        elem.element.addEventListener(\"input\", offFunc.bind(offFunc)(elem));\n    }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nwindow.share = function share(shareButton) {\n    console.log(\"Share\", shareButton);\n    if (shareButton.isShareText === true) {\n        shareButton.textContent = shareButton.dataset.text;\n        shareButton.isShareText = false;\n    }\n    else {\n        shareButton.dataset.text = shareButton.textContent;\n        shareButton.textContent = encodeURL();\n        shareButton.isShareText = true;\n    }\n};\n","// extracted by mini-css-extract-plugin"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjHA;;;;A","sourceRoot":""}